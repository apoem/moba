(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e55a7"],{"93b9":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v(t._s(t.id?"编辑":"新建")+"广告位")]),a("el-form",{attrs:{"label-width":"80px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("el-form-item",{staticStyle:{margin:"20px 0"},attrs:{label:"名称 "}},[a("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),a("el-form-item",{staticStyle:{margin:"20px 0"},attrs:{label:"广告","label-width":"80px"}},[a("el-button",{attrs:{round:""},on:{click:function(e){return t.model.items.push({})}}},[t._v("添加广告")]),a("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},t._l(t.model.items,(function(e,r){return a("el-col",{key:r,staticStyle:{"text-align":"center"},attrs:{md:24}},[a("el-form-item",{staticStyle:{margin:"20px 0"},attrs:{label:"url地址","label-width":"80px"}},[a("el-input",{model:{value:e.url,callback:function(a){t.$set(e,"url",a)},expression:"item.url"}})],1),a("el-form-item",{attrs:{label:"图片","label-width":"80px"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.$http.defaults.baseURL+"/uploads","show-file-list":!1,"on-success":function(a){return t.$set(e,"image",a.url)}}},[e.image?a("img",{staticClass:"avatar",attrs:{src:e.image}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-button",{staticStyle:{margin:"10px auto"},attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(e){return t.model.items.splice(r,1)}}})],1)})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)},n=[],s=(a("96cf"),a("1da1")),i={props:{id:{type:String}},data:function(){return{model:{name:"",items:[]}}},methods:{save:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.id){e.next=5;break}return e.next=3,t.$http.put("/rest/ads/".concat(t.id),t.model);case 3:e.next=7;break;case 5:return e.next=7,t.$http.post("/rest/ads",t.model);case 7:t.$router.push("/ads/list"),t.$message({type:"success",message:"成功发送"});case 9:case"end":return e.stop()}}),e)})))()},fetch:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.id){e.next=5;break}return e.next=3,t.$http.get("/rest/ads/".concat(t.id));case 3:a=e.sent,t.model=a.data;case 5:case"end":return e.stop()}}),e)})))()}},created:function(){this.fetch()}},l=i,c=a("2877"),o=Object(c["a"])(l,r,n,!1,null,null,null);e["default"]=o.exports}}]);
//# sourceMappingURL=chunk-2d0e55a7.c3d20f54.js.map